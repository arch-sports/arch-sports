filter(athleteCount == 1) %>%
select(-athleteCount)
athlete_best    <- best_df[best_df$Name == athlete, 2:(ncol(best_df))] %>%
mutate(athleteCount = ifelse(count(data, Name)$n[count(data, Name)$Name == athlete] >= 1,
1, 0)) %>%
filter(athleteCount == 1) %>%
select(-athleteCount)
source("C:/Users/Caitie Mayo/Desktop/GitHub/arch-sports/Monthly Report/monthly_report.R")
source("C:/Users/Caitie Mayo/Desktop/GitHub/arch-sports/Monthly Report/monthly_report.R")
?read.csv
source("C:/Users/Caitie Mayo/Desktop/GitHub/arch-sports/Monthly Report/monthly_report.R")
View(summary_data)
summary_data[summary_data == -Inf] <- 0
summary_data[summary_data == Inf] <- 0
source("C:/Users/Caitie Mayo/Desktop/GitHub/arch-sports/Monthly Report/monthly_report.R")
source("C:/Users/Caitie Mayo/Desktop/GitHub/arch-sports/Monthly Report/monthly_report.R")
# Import testing data
test_url <- 'https://docs.google.com/spreadsheets/d/1VzdlsDCA-X8HVKvUktG1A5XZNiq3IuOwX2Zbq8k6Iu0/edit?gid=2006047091#gid=2006047091'
test_sheet <- 'MASTER DATA TABLE'
file_name <- paste('./', year(Sys.Date()),'_', month(Sys.Date()), '_testing_data.csv', sep = '')
if (!file.exists(file_name)) {
data <- read_sheet(test_url, sheet = test_sheet)
write.csv(data,
file = file_name,
row.names = FALSE)
} else {
data <- read.csv(file = file_name)
}
View(data)
names(data) <- str_replace_all(names(data), '\.*', "_")
names(data) <- str_replace_all(names(data), '.*', "_")
names(data) <- str_replace_all(names(data), '/.*', "_")
# Import testing data
test_url <- 'https://docs.google.com/spreadsheets/d/1VzdlsDCA-X8HVKvUktG1A5XZNiq3IuOwX2Zbq8k6Iu0/edit?gid=2006047091#gid=2006047091'
test_sheet <- 'MASTER DATA TABLE'
file_name <- paste('./', year(Sys.Date()),'_', month(Sys.Date()), '_testing_data.csv', sep = '')
if (!file.exists(file_name)) {
data <- read_sheet(test_url, sheet = test_sheet)
write.csv(data,
file = file_name,
row.names = FALSE)
} else {
data <- read.csv(file = file_name)
}
names(data) <- str_replace_all(names(data), '/.*', "_")
?str_replace_all
test <- 'CMJ...Flight.Time'
test1 <- str_replace_all(test, '/.*', '_')
test1 <- str_replace_all(test, '\.*', '_')
test1 <- str_replace_all(test, '\\.*', '_')
test1 <- str_replace_all(test1, '_\D', '_')
test1 <- str_replace_all(test, [.], '_')
test1 <- str_replace_all(test, '[.]', '_')
test1 <- str_replace_all(test, '[.]*', '_')
test1 <- str_replace_all(test, '[.*]', '_')
test1 <- str_replace_all(test, '[.]*', '_')
test1 <- str_replace_all(test, '[\.]*', '_')
test1 <- str_replace_all(test, '[.]', '_')
test1 <- str_replace_all(test, '([.]*)', '_')
test1 <- str_replace_all(test, '[.]*', '_')
test1 <- str_replace_all(test, '*[.]', '_')
test1 <- str_replace_all(test, '[*.]', '_')
test1 <- str_replace_all(test, '[.*]', '_')
test1 <- str_replace_all(test, '[.+]', '_')
test1 <- str_replace_all(test, '\\.*', '_')
test1 <- str_replace_all(test, '[\\.]*', '_')
test1 <- str_replace_all(test, '[.]*', '_')
test1 <- str_replace_all(test, '[.]', '_')
test1 <- str_replace_all(test, '[\\.]', '_')
test1 <- str_replace_all(test, '_*', '_')
test1 <- str_replace_all(test, '\_*', '_')
test1 <- str_replace_all(test, '\\_*', '_')
test1 <- str_replace_all(test, '//.', '_')
test1 <- str_replace_all(test, '\\.', '_')
test1 <- str_replace_all(test1, '_*', '_')
test1 <- str_replace_all(test, '\\.', '_')
test1 <- str_replace_all(test1, '[_]', '_')
mean(data$Nordbord.Max.L, data$Nordbord.Max.R, na.rm = TRUE)
mean(c(data$Nordbord.Max.L, data$Nordbord.Max.R), na.rm = TRUE)
?rowMeans
rowMeans(cbind(data$Nordbord.Max.L, data$Nordbord.Max.R), na.rm = TRUE)
source("C:/Users/Caitie Mayo/Desktop/GitHub/arch-sports/Monthly Report/monthly_report.R")
source("C:/Users/Caitie Mayo/Desktop/GitHub/arch-sports/Monthly Report/monthly_report.R")
View(summary_data)
select(summary_data, starts_with('CMJ'))
source("C:/Users/Caitie Mayo/Desktop/GitHub/arch-sports/Monthly Report/monthly_report.R")
```{r}
library(kableExtra)
library(tidyverse)
library(ggplot2)
file_name <- paste(year(Sys.Date()), '_', month(Sys.Date()), '_summary_data.csv')
data <- read.csv(file = file_name)
file_name <- paste(year(Sys.Date()), '_', month(Sys.Date()), '_summary_data.csv'
, sep = '')
file_name <- paste(year(Sys.Date()), '_', month(Sys.Date()), '_summary_data.csv'
, sep = '')
data <- read.csv(file = file_name)
# Create CMJ Table
summary_data %>%
select(
Name,
starts_with('CMJ')) %>%
kable(
)
summary_data <- data %>%
select(-Young, - Old, -Adult) %>%
group_by(Name) %>%
summarise_at(
.vars = names(data)[!names(data) %in% var_list],
.funs = func_list
)
source("C:/Users/Caitie Mayo/Desktop/GitHub/arch-sports/Monthly Report/monthly_report.R")
View(summary_data)
data[is.nan(data)] <- NA
?is.nan
# Add dummy column for whether athlete <= 13 years old
data <- data %>%
mutate(Young = ifelse(data$Age.At.Testing <= 13, 1, 0),
Old   = ifelse(data$Age.At.Testing > 13 & data$Age.At.Testing <= 18, 1, 0),
Adult = ifelse(data$Age.At.Testing > 18, 1, 0),
Month = month(Date),
Nordbord = rowMeans(cbind(data$Nordbord.Max.L, data$Nordbord.Max.R), na.rm = TRUE))
for (item in data$Nordbord) {
print(item)
}
for (item in data$Nordbord) {
if(is.nan(item)){
item <- NA
}
}
summary_data <- data %>%
select(-Young, - Old, -Adult) %>%
group_by(Name) %>%
summarise_at(
.vars = names(data)[!names(data) %in% var_list],
.funs = func_list
) %>%
cbind(Month)
summary_data <- data %>%
select(-Young, - Old, -Adult) %>%
group_by(Name) %>%
summarise_at(
.vars = names(data)[!names(data) %in% var_list],
.funs = func_list
) %>%
cbind(data$Month)
# Get athletes who tested last month
athletes <- unique(data_current$Name)
summary_data <- data %>%
select(-Young, - Old, -Adult) %>%
group_by(Name) %>%
summarise_at(
.vars = names(data)[!names(data) %in% var_list],
.funs = func_list
) %>%
filter(Name %in% athletes)
summary_data$Nordbord_Best
source("C:/Users/Caitie Mayo/Desktop/GitHub/arch-sports/Monthly Report/monthly_report.R")
library(kableExtra)
library(tidyverse)
library(ggplot2)
# Read data from summary_data csv
file_name <- paste(year(Sys.Date()), '_', month(Sys.Date()), '_summary_data.csv'
, sep = '')
data <- read.csv(file = file_name)
# Create CMJ Table
summary_data %>%
select(
Name,
starts_with('CMJ')) %>%
kable(
)
source("C:/Users/Caitie Mayo/Desktop/GitHub/arch-sports/Monthly Report/monthly_report.R")
# Read data from summary_data csv
file_name <- paste(year(Sys.Date()), '_', month(Sys.Date()), '_summary_data.csv'
, sep = '')
data <- read.csv(file = file_name)
# Create CMJ Table
summary_data %>%
select(
Name,
starts_with('CMJ')) %>%
kable(
col.names = c('Name',
'Current',
'Best',
'Best Change',
'Best % Change',
'Previous',
'Previous Change',
'Previous % Change'
)
)
?kable
?column_spec
# Create CMJ Table
data %>%
select(
Name,
starts_with('CMJ')) %>%
mutate(CMJ...Imp.Mom_Best_change = CMJ...Imp.Mom_Best_change * 100,
CMJ...Imp.Mom_Last_change = CMJ...Imp.Mom_Last_change * 100)
data$CMJ...Imp.Mom_Best_perc*100
# Create CMJ Table
data %>%
select(
Name,
starts_with('CMJ')) %>%
mutate(CMJ...Imp.Mom_Best_change = (CMJ...Imp.Mom_Best_change * 100),
CMJ...Imp.Mom_Last_change = (CMJ...Imp.Mom_Last_change * 100))
source("C:/Users/Caitie Mayo/Desktop/GitHub/arch-sports/Monthly Report/monthly_report.R")
source("C:/Users/Caitie Mayo/Desktop/GitHub/arch-sports/Monthly Report/monthly_report.R")
full_file_name <- paste(year(sys.call()), '_', month(Sys.Date()), '_testing_data.csv', sep = '')
data <- read.csv(file = file_name)
full_data <- read.csv(file = full_file_name) %>%
filter(Name %in% data$Name)
full_file_name <- paste(year(sys.Date()), '_', month(Sys.Date()), '_testing_data.csv', sep = '')
full_file_name <- paste(year(Sys.Date()), '_', month(Sys.Date()), '_testing_data.csv', sep = '')
data <- read.csv(file = file_name)
full_data <- read.csv(file = full_file_name) %>%
filter(Name %in% data$Name)
View(full_data)
full_data <- full_data[full_data$Name %in% data$Name]
full_data <- full_data[full_data$Name %in% data$Name,]
library(kableExtra)
library(tidyverse)
library(ggplot2)
# Read data from summary_data csv
file_name <- paste(year(Sys.Date()), '_', month(Sys.Date()), '_summary_data.csv'
, sep = '')
full_file_name <- paste(year(Sys.Date()), '_', month(Sys.Date()), '_testing_data.csv', sep = '')
data <- read.csv(file = file_name)
athletes <- unique(data$Name)
full_data <- read.csv(file = full_file_name)
full_data <- full_data[full_data$Name %in% athletes,]
# Create CMJ Table
data %>%
select(
Name,
starts_with('CMJ')) %>%
mutate(CMJ...Imp.Mom_Best_perc = (CMJ...Imp.Mom_Best_perc * 100),
CMJ...Imp.Mom_Last_perc = (CMJ...Imp.Mom_Last_perc * 100)) %>%
kable(
digits = 2,
caption = 'CMJ Summary',
col.names = c('Name',
'Current',
'Best',
'Best Change',
'Best % Change',
'Previous',
'Previous Change',
'Previous % Change'
)
)
unique(full_data$Name)
unique(data$Name)
?split
split(full_data, full_data$Name)
test <- split(full_data, full_data$Name)
View(test)
?reorder
data %>% cbind('CMJ Trend')
data %>% cbind('CMJ Trend' = '')
data %>% cbind("CMJ Trend" = '') %>% select(Name, `CMJ Trend`, starts_with('CMJ.'))
# Create CMJ Table
data %>%
cbind('Trend' = '') %>%
select(
Name,
Trend,
starts_with('CMJ')) %>%
mutate(CMJ...Imp.Mom_Best_perc = (CMJ...Imp.Mom_Best_perc * 100),
CMJ...Imp.Mom_Last_perc = (CMJ...Imp.Mom_Last_perc * 100)) %>%
kable(
digits = 2,
caption = 'CMJ Summary',
col.names = c('Name',
'Trend',
'Current',
'Best',
'Best Change',
'Best % Change',
'Previous',
'Previous Change',
'Previous % Change'
)
) %>%
column_spec(2, spec_plot(full_data_split))
data <- read.csv(file = file_name)
athletes <- unique(data$Name)
full_data <- read.csv(file = full_file_name)
full_data <- full_data[full_data$Name %in% athletes,]
full_data_split <- split(full_data, full_data$Name)
# Create CMJ Table
data %>%
cbind('Trend' = '') %>%
select(
Name,
Trend,
starts_with('CMJ')) %>%
mutate(CMJ...Imp.Mom_Best_perc = (CMJ...Imp.Mom_Best_perc * 100),
CMJ...Imp.Mom_Last_perc = (CMJ...Imp.Mom_Last_perc * 100)) %>%
kable(
digits = 2,
caption = 'CMJ Summary',
col.names = c('Name',
'Trend',
'Current',
'Best',
'Best Change',
'Best % Change',
'Previous',
'Previous Change',
'Previous % Change'
)
) %>%
column_spec(2, spec_plot(full_data_split))
?spec_plot
full_data_split
# Create CMJ Table
full_data_split <- split(full_data$CMJ...Imp.Mom, full_data$Name)
data %>%
cbind('Trend' = '') %>%
select(
Name,
Trend,
starts_with('CMJ')) %>%
mutate(CMJ...Imp.Mom_Best_perc = (CMJ...Imp.Mom_Best_perc * 100),
CMJ...Imp.Mom_Last_perc = (CMJ...Imp.Mom_Last_perc * 100)) %>%
kable(
digits = 2,
caption = 'CMJ Summary',
col.names = c('Name',
'Trend',
'Current',
'Best',
'Best Change',
'Best % Change',
'Previous',
'Previous Change',
'Previous % Change'
)
) %>%
column_spec(2, spec_plot(full_data_split))
View(full_data_split)
?split
# Create CMJ Table
split_data <- split(full_data$CMJ...Imp.Mom, full_data$Name)
split_time <- split(full_data$Date, full_data$Name)
View(split_data)
View(split_time)
data %>%
cbind('Trend' = '') %>%
select(
Name,
Trend,
starts_with('CMJ')) %>%
mutate(CMJ...Imp.Mom_Best_perc = (CMJ...Imp.Mom_Best_perc * 100),
CMJ...Imp.Mom_Last_perc = (CMJ...Imp.Mom_Last_perc * 100)) %>%
kable(
digits = 2,
caption = 'CMJ Summary',
col.names = c('Name',
'Trend',
'Current',
'Best',
'Best Change',
'Best % Change',
'Previous',
'Previous Change',
'Previous % Change'
)
) %>%
column_spec(2, spec_plot(x = split_time, y = split_data))
data %>%
cbind('Trend' = '') %>%
select(
Name,
Trend,
starts_with('CMJ')) %>%
filter(~is.na(data$CMJ...Imp.Mom_Current)) %>%
mutate(CMJ...Imp.Mom_Best_perc = (CMJ...Imp.Mom_Best_perc * 100),
CMJ...Imp.Mom_Last_perc = (CMJ...Imp.Mom_Last_perc * 100)) %>%
kable(
digits = 2,
caption = 'CMJ Summary',
col.names = c('Name',
'Trend',
'Current',
'Best',
'Best Change',
'Best % Change',
'Previous',
'Previous Change',
'Previous % Change'
)
) %>%
column_spec(2, spec_plot(x = split_time, y = split_data))
data %>% cbind('Trend' = '') %>% select(Name, Trend, starts_with('CMJ'))
data %>% cbind('Trend' = '') %>% select(Name, Trend, starts_with('CMJ')) %>% !is.na()
data %>% cbind('Trend' = '') %>% select(Name, Trend, starts_with('CMJ')) %>% !is.na(data$CMJ...Imp.Mom_Current)
data %>% cbind('Trend' = '') %>% select(Name, Trend, starts_with('CMJ')) %>% filter(data$CMJ...Imp.Mom_Current != NA)
data %>% cbind('Trend' = '') %>% select(Name, Trend, starts_with('CMJ')) %>% filter(data, data$CMJ...Imp.Mom_Current != NA)
data %>% cbind('Trend' = '') %>% select(Name, Trend, starts_with('CMJ')) %>% data[!is.na(data$CMJ...Imp.Mom_Current)]
data %>% cbind('Trend' = '') %>% select(Name, Trend, starts_with('CMJ')) %>% data[!is.na(data$CMJ...Imp.Mom_Current),]
data %>% cbind('Trend' = '') %>% select(Name, Trend, starts_with('CMJ')) %>% data[!is.na(data$CMJ...Imp.Mom_Current), ]
data[!is.na(data$CMJ...Imp.Mom_Current), ]
data[!is.na(data$CMJ...Imp.Mom_Current), ] %>% cbind('Trend' = '') %>% select(Name, Trend, starts_with('CMJ'))
data[!is.na(data$CMJ...Imp.Mom_Current), ] %>% cbind('Trend' = '') %>% select(Name, Trend, starts_with('CMJ')) %>% mutate(CMJ...Imp.Mom_Best_perc = CMJ...Imp.Mom_Best_perc * 100, CMJ...Imp.Mom_Last_perc = CMJ...Imp.Mom_Last_perc * 100)
data[!is.na(data$CMJ...Imp.Mom_Current), ] %>% cbind('Trend' = '') %>% select(Name, Trend, starts_with('CMJ')) %>% mutate(CMJ...Imp.Mom_Best_perc = CMJ...Imp.Mom_Best_perc * 100, CMJ...Imp.Mom_Last_perc = CMJ...Imp.Mom_Last_perc * 100) %>% kable(
digits = 2,
caption = 'CMJ Summary',
col.names = c('Name',
'Trend',
'Current',
'Best',
'Best Change',
'Best % Change',
'Previous',
'Previous Change',
'Previous % Change'
)
)
data[!is.na(data$CMJ...Imp.Mom_Current), ] %>% cbind('Trend' = '') %>% select(Name, Trend, starts_with('CMJ')) %>% mutate(CMJ...Imp.Mom_Best_perc = CMJ...Imp.Mom_Best_perc * 100, CMJ...Imp.Mom_Last_perc = CMJ...Imp.Mom_Last_perc * 100) %>% kable(
digits = 2,
caption = 'CMJ Summary',
col.names = c('Name',
'Trend',
'Current',
'Best',
'Best Change',
'Best % Change',
'Previous',
'Previous Change',
'Previous % Change'
)
) %>% column_spec(2, spec_plot(x = split_time, y = split_data))
?spec_plot
split_time
split_data
plot(x = split_time$`Abhimanyu Gokhale Sharma`, y = split_data$`Abhimanyu Gokhale Sharma`)
split_time$`Abhimanyu Gokhale Sharma`
split_time <- as.Date(split_time)
class(full_data$Date)
full_data$Date <- as.Date(full_data$Date)
plot(x = split_time$`Abhimanyu Gokhale Sharma`, y = split_data$`Abhimanyu Gokhale Sharma`)
View(split_data)
# Create CMJ Table
split_data <- split(full_data$CMJ...Imp.Mom, full_data$Date)
View(split_data)
?KABLE
?kable
View(data)
View(data_current)
?read.csv
data[!is.na(data$CMJ...Imp.Mom_Current), ]
data[!is.na(data$CMJ...Imp.Mom_Current), ]
data[!is.na(data$CMJ...Imp.Mom_Current) && data$Name == 'Jake Guttman', ]
data[data$Name == 'Jake Guttman', ]
View(split_data)
# Create CMJ Table
split_data <- split(full_data$CMJ...Imp.Mom, full_data$Name)
View(split_data)
# Create CMJ Table
split_data <- split(full_data$CMJ...Imp.Mom[!is.na(full_data$CMJ...Imp.Mom)], full_data$Name[!is.na(full_data$CMJ...Imp.Mom)])
library(kableExtra)
library(tidyverse)
library(ggplot2)
# Read data from summary_data csv
file_name <- paste(year(Sys.Date()), '_', month(Sys.Date()), '_summary_data.csv'
, sep = '')
full_file_name <- paste(year(Sys.Date()), '_', month(Sys.Date()), '_testing_data.csv', sep = '')
data <- read.csv(file = file_name)
athletes <- unique(data$Name)
full_data <- read.csv(file = full_file_name)
full_data$Date <- as.Date(full_data$Date)
# Create CMJ Table
split_data <- split(full_data$CMJ...Imp.Mom[!is.na(full_data$CMJ...Imp.Mom)], full_data$Name[!is.na(full_data$CMJ...Imp.Mom)])
split_data$`Jake Guttman`
View(split_data)
split_data$`Julia Freeman`
split_data$`Kieran Burton`
split_data$`Logan Newton`
split_data$`Cole Freeman`
split_data$`JD Yakubnis`
?spec_plot
?arrange
full_data$Name
split_data
data$Name
data[!is.na(data$CMJ...Imp.Mom_Current), ] %>%
cbind('Trend' = '') %>%
select(
Name,
Trend,
starts_with('CMJ')) %>%
arrange(Name)
'Jake' > 'JD'
'JD' > 'Jake'
'A' > 'Z'
'JA' > 'JB'
'z' > 'A'
'A' > 'a'
'a' > 'a'
'A' > 'z'
?order
order(data$Name)
data$Name[order(data$Name)]
data <- data[order(data$Name),]
View(data)
order(split_data)
